(function() {

  'use strict';

  var isDrawing, lastPoint;
  var container = document.getElementById('js-container'),
      canvas = document.getElementById('js-canvas'),
      canvasWidth = canvas.width,
      canvasHeight = canvas.height,
      ctx = canvas.getContext('2d'),
      image = new Image(),
      brush = new Image();

  // base64 Workaround because Same-Origin-Policy
  // image.src = 'data:image/png;base64,...';
  image.onload = function() {
    ctx.drawImage(image, 0, 0);
    // Show the form when Image is loaded.
    document.querySelectorAll('.form')[0].style.visibility = 'visible';
  };
  brush.src = 'data:image/png;base64,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';

  image.src = 'data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZpZXdCb3g9IjAgMCAyODAgMTgwIj48ZGVmcz48c3R5bGU+LmNscy0xLC5jbHMtMiwuY2xzLTMsLmNscy00e2ZpbGw6bm9uZTt9LmNscy01e2ZpbGw6dXJsKCNsaW5lYXItZ3JhZGllbnQpO30uY2xzLTJ7aXNvbGF0aW9uOmlzb2xhdGU7fS5jbHMtNntmaWxsOiNkOWJkNDM7fS5jbHMtM3ttaXgtYmxlbmQtbW9kZTptdWx0aXBseTt9LmNscy00e2NsaXAtcGF0aDp1cmwoI2NsaXBwYXRoKTt9PC9zdHlsZT48Y2xpcFBhdGggaWQ9ImNsaXBwYXRoIj48cmVjdCBjbGFzcz0iY2xzLTEiIHdpZHRoPSIyODAiIGhlaWdodD0iMTgwIi8+PC9jbGlwUGF0aD48bGluZWFyR3JhZGllbnQgaWQ9ImxpbmVhci1ncmFkaWVudCIgeDE9IjE3LjA5IiB5MT0iLTMzLjc5IiB4Mj0iMjY0Ljc1IiB5Mj0iMjEzLjg3IiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHN0b3Agb2Zmc2V0PSIwIiBzdG9wLWNvbG9yPSIjZjVjYjE2Ii8+PHN0b3Agb2Zmc2V0PSIuMTkiIHN0b3AtY29sb3I9IiNmZWYxN2IiLz48c3RvcCBvZmZzZXQ9Ii4yMSIgc3RvcC1jb2xvcj0iI2ZmZjU4NSIvPjxzdG9wIG9mZnNldD0iLjU0IiBzdG9wLWNvbG9yPSIjZjBkMjRkIi8+PHN0b3Agb2Zmc2V0PSIuODYiIHN0b3AtY29sb3I9IiNlM2IzMWIiLz48c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiNmNWNiMTYiLz48L2xpbmVhckdyYWRpZW50PjwvZGVmcz48ZyBjbGFzcz0iY2xzLTIiPjxnIGlkPSJMYXllcl8xIj48ZyBjbGFzcz0iY2xzLTQiPjxyZWN0IGNsYXNzPSJjbHMtNSIgeD0iLTEwLjQ2IiB5PSItNi4yNCIgd2lkdGg9IjMwMi43NiIgaGVpZ2h0PSIxOTIuNTYiLz48ZyBjbGFzcz0iY2xzLTMiPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTE1NS44NCwxMDkuODFsLTcuMDIsNi4yLDkuMTgsMS4zMS0xLjQ2LDUuNTEsNS43My0xLjUzLTIuMDcsMTAuODIuNjYtLjcxLDguNDItOS4wNywzLjE5LDQuMTEsMS41My01LjgxLDcuOTksNC4yNC0zLjI0LTcuNjMsNi42Ni0xLjE4LTQuMjUtNC4yNCwxMi4yMy02LjYzLTEyLjkyLS40OSwzLjA0LTUuNDQtNS41OS43LDIuMzEtMTAuOTMtOC42NCw3Ljc2LTMuNjMtNy4wNS0xLjc4LDYuMjgtOC4xNy02LjM4LDIuNCw4LjYyLTEwLjU0LTQuNiw2Ljc2LDEwLjE2LTYuMjEsMi4wMiw1LjQsMy45N1ptMS4zNy0uMDhsLTQuNzYtMy41MSw1LjQ5LTEuNzktNS44My04Ljc1LDkuMzYsNC4wOS0yLjI1LTguMDgsNy4yNCw1LjY0LDEuNjUtNS44NCwzLjM3LDYuNTYsNy43Mi02Ljk0LTIuMTEsMTAsNC45Ny0uNjMtMi45MSw1LjIxLjY2LjAyLDEwLjAxLjM3LTEwLjA5LDUuNDgsMy44MywzLjgyLTUuODcsMS4wNCwyLjgxLDYuNjEtNi44LTMuNi0xLjQ1LDUuNDktMi45NS0zLjc5LS4xNS4xNi03LjkyLDguNTIsMS44Ny05Ljc3LTUuNiwxLjQ5LDEuMzYtNS4xMS03Ljk2LTEuMTMsNi4yOS01LjU3WiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSI4Mi4wMSAxMzIuMTYgMTEwLjI3IDEwNy4yIDg5LjUyIDkxLjg4IDg4LjYyIDkxLjIzIDExMy41NyA4My4wOSA4Ni42NSA0Mi42OSAxMjkuNiA2MC4xOCAxMjAuMzggMjQuNTYgMTUzLjA3IDUwLjU4IDE2MC41OSAyNi4zNiAxNjAuOCAyNS43MiAxNzQuMiA1NC41OCAyMDYuOTkgMjMuNTkgMjA3LjU1IDIzLjA2IDIwMS4yIDY4LjEzIDIyMi4xOCA2NC44NSAyMDkuNTggODcuNCAyNTguNTEgODkuMjggMjYwLjIxIDg5LjM0IDIxMi4zNyAxMTYuNzYgMjI5LjUzIDEzMi40NiAyMDIuNjIgMTM4LjQxIDIxNS4xOSAxNjYuNDcgMjE1Ljc1IDE2Ny43IDE4My44OSAxNTEuNDQgMTc3Ljg3IDE3NC4yNyAxNzcuNzIgMTc0LjgzIDE2Ni40NCAxNTkuNTkgMTM5LjM1IDE4Ni4zMiAxMzguMTggMTg2LjMyIDE2Ni4zMyAxNTguNTQgMTY2LjQ4IDE1OC4zOCAxNzcuNTEgMTczLjI4IDE4My40OSAxNTAuNjEgMTgzLjU5IDE1MC4yMyAyMTQuMiAxNjUuODYgMjAxLjg2IDEzOC4zNCAyMDEuNTUgMTM3LjYyIDIyNy42MyAxMzEuODcgMjExLjUgMTE3LjEgMjEwLjg5IDExNi41NCAyNTYuOCA5MC4yMyAyMDguOSA4OC40IDIwOC4yNCA4OC4zOCAyMjAuNjggNjYuMTEgMjAwLjQ3IDY5LjI2IDIwNi42OSAyNS4wMSAxNzQuMjYgNTUuNjYgMTc0LjA2IDU1Ljg1IDE2MC44OCAyNy40OCAxNTMuMzEgNTEuODkgMTIxLjUyIDI2LjU4IDEzMC4zNSA2MC42OSAxMzAuNTkgNjEuNjMgODguOCA0NC42MiAxMTQuNCA4My4wMSAxMTQuODYgODMuNyA5MC42MiA5MS42IDExMS4wNiAxMDYuNjkgMTExLjY0IDEwNy4xMSA4My45NSAxMzEuNTcgMTE4Ljk3IDEzOS40MyAxMTkuMzYgMTM5LjUyIDExMy44IDE2MC41NiAxMzcuMjkgMTU0Ljk5IDEzMC45NyAxODYuMzIgMTMwLjM3IDE4Ni4zMiAxMzYuNDUgMTU2LjIyIDExMy4zNiAxNjEuNjkgMTEyLjg1IDE2MS44IDExOC41MiAxNDAuMzYgODIuOTQgMTMyLjM3IDgyLjAxIDEzMi4xNiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTEzNy42MSwxMDguNzdsLTE1LjQ5LDEzLjY4Ljk2LjIsMTkuMTQsMy44OC0zLjE0LDExLjg3LjUxLS4xMiwxMi4zNi0zLjAyLTQuNTcsMjIuOTMuNjYtLjY1LDIwLjExLTIwLjMsNi40Myw4LjU3LDMuMzktMTIuODUsMTcuNTQsOS4wNS03LjItMTYuMzEsMTQuNzctMy4wOC05LjQyLTguODIsMjYuNDQtMTQuOTQtMS43Mi0uMDYtMjYuMjUtMS4wMSw2Ljg3LTEyLjI5LTExLjc3LDEuNzQsMy45LTI0LjU3LTE4LjQ4LDE3LjI0LTcuNTMtMTUuNzctLjIuNjQtMy45NiwxMy4wOC0xNy45OC0xNC4yMi4zMywxLjIzLDQuOCwxOC4xOC0yMy41LTkuNzQsMTQuODIsMjIuMjMtMTMuNyw0LjQ3LjkuNjUsMTAuOTksOC4xM1ptMS4zNy0uMDhsLTExLjI2LTguMzIsMTIuOTktNC4yMi0uNDctLjctMTMuNDctMjAuMjEsMjIuMzMsOS4yNy00Ljk4LTE4Ljg2LDE3LjA2LDEzLjUxLjEzLS40MSwzLjg5LTEyLjg2LDcuMywxNS4yOCwxNy43Mi0xNi41Mi0zLjc3LDIzLjcyLDExLjA1LTEuNjQtNi43MiwxMi4wMy42Ni4wMiwyNS4yLjk3LTI0LjQ2LDEzLjgxLDguOTksOC40Mi0xMy45NCwyLjkyLDYuNzQsMTUuMjYtMTYuMzEtOC40MS0uMS4zOC0zLjIxLDEyLjEyLTYuMTctOC4yMy0uMTYuMTYtMTkuNjEsMTkuODEsNC4zNy0yMS45Ny0uNDYuMTEtMTIuMywzLDMuMDMtMTEuNDgtMTguOTYtMy44NCwxNC44OC0xMy4xNVoiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0xNjQuOTUsMTEwLjM0bC0yLjk4LDIuNjQsMy45Mi0uMTktLjYsMi4yNywyLjE5LS43MS0uODQsNC45LDMuMjUtNC4zNCwxLjU2LDEuODYuNTktMi4yNSwzLjE3LDEuODMtMS4yMy0zLjI1LDIuNTgtLjE5LTEuNjYtMS45OCw1LjM2LTIuNTMtNS42LS4yMSwxLjEyLTEuOTktMi4zOS4xOSwxLjY2LTQuMy0zLjk4LDMuMjEtMS43LTIuNzItLjU3LDIuNTUtMy4zMS0yLjQ2LDEuMDMsMy4xNS00LjA2LTIuMDYsMi44MSw0LjIyLTIuNDYuODEsMi4xNCwxLjU2Wm0xLjM4LS4wOGwtMS41MS0xLjExLDEuNzUtLjU3LTEuNzEtMi41NywyLjg2LDEuNDYtLjg5LTIuNzQsMi4yOSwxLjcxLjQ4LTIuMTcsMS4zOCwyLjIsMi40Ny0xLjk4LTEuMTUsMi45OCwyLjA2LS4xNS0xLjAyLDEuODMsMi44Ny4xMS0yLjY1LDEuMjQsMS4yNSwxLjUtMS44Ni4xMy44OSwyLjM0LTIuMDktMS4xOS0uNTMsMS45OS0xLjM1LTEuNi0yLjE5LDIuOTIuNjEtMy41NS0yLjAxLjY3LjUyLTEuOTctMi4yNi4xMSwxLjgtMS41OVoiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0xNDYuNzIsMTA5LjNsLTExLjI0LDkuOTMsMTQuNjMsMi43LTIuMjksOC42OSw5LjMtMi4zMy0zLjMxLDE2Ljg4LDE0LjkxLTE1LjM3LDQuODEsNi4zNC4xNC0uNTYsMi4zMi04Ljc3LDEyLjc3LDYuNjQtNS4yMy0xMS45NiwxMC43MS0yLjE0LTYuODMtNi41MywxOS4zMi0xMC43OC0xLjc0LS4wNi0xOC42OS0uNzEsNC45Ni04Ljg4LTguNjksMS4yMywzLjExLTE3Ljc1LS42LjU0LTEyLjk1LDExLjk0LTUuNTctMTEuNDItMi45OCwxMC4wMS0xMy4wNy0xMC4zLjMzLDEuMjMsMy40MywxMi43OS0xNy4wMi03LjE2LDEwLjc5LDE2LjE4LTkuOTUsMy4yNC45LjY1LDcuNzQsNS43M1ptMS4zNy0uMDhsLTgtNS45Miw5LjI0LTMuMDEtOS44OS0xNC44MywxNS44NCw2LjY2LTMuNjEtMTMuNDYsMTIuMTUsOS41OS4xMi0uNDIsMi43Mi05LjEzLDUuMzMsMTAuOTIuMTktLjE4LDEyLjU0LTExLjU4LTIuOTUsMTYuODgsOC0xLjEzLTQuODEsOC42Mi42Ni4wMiwxNy42Mi42Ny0xNy4yOSw5LjY1LDYuNDEsNi4xMS05LjksMS45OCw0Ljc3LDEwLjkzLTExLjU0LTYtMi4zOCw4Ljk5LTQuNTYtNi0xMy45MiwxNC4zNCwzLjEzLTE1Ljg2LS40Ni4xMS04LjczLDIuMTgsMi4yLTguMjktLjQtLjA3LTEzLjA3LTIuNDEsMTAuNTktOS4zNloiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0xMDkuNywxMjUuODhsMjQuNjIsNS4yNS0zLjk4LDE1LjA4LjUyLS4xMiwxNS45My0zLjg0LTUuODEsMjkuMDEsMjYuNjEtMjYuNTcsOC4wNSwxMC43OSw0LjMzLTE2LjM2LDIyLjMxLDExLjQ1LTkuMTgtMjAuNjMsMTguODEtNC4wNS0xMi0xMS4xMiwzMy41Ni0xOS4wOS0xLjcxLS4wNi0zMy44MS0xLjMsOC43OC0xNS43Mi0xNC44NCwyLjI1LDQuNzItMzEuNC0yMy40MywyMi05LjUtMjAuMTQtLjIuNjQtNS4xNSwxNi44LTIyLjg4LTE4LjE2LDYuNSwyNC44My0yOS45OS0xMi4zMy45LDEuMzUsMTcuOTUsMjYuOTMtMTcuNDUsNS42OS45LjY1LDE0LjI0LDEwLjUzLTE5Ljc0LDE3LjQzLjk1LjIxWm0xLjAxLS44MWwxOS4xNS0xNi45MS0xNC41MS0xMC43MywxNi43NC01LjQ0LS40Ni0uNy0xNy41MS0yNi4yOCwyOC44MSwxMS44Ni02LjM0LTI0LjI1LDIxLjk3LDE3LjQ1LjEzLS40MSw1LjA4LTE2LjU3LDkuMjYsMTkuNjQuMi0uMTksMjIuNDktMjEuMTEtNC42LDMwLjU2LDE0LjEtMi4xMy04LjYzLDE1LjQ0LjY2LjAyLDMyLjc2LDEuMjYtMzEuNjIsMTcuOTgsMTEuNTgsMTAuNzMtMTcuOTksMy44Nyw4LjcxLDE5LjU4LTIxLjA4LTEwLjgyLS4xLjM5LTQuMTMsMTUuNjMtNy43OS0xMC40Ni0yNS42MSwyNS41OSw1LjYyLTI4LjA0LTE2LjM0LDMuOTQsMy44Ny0xNC42Ni0uMzktLjA5LTI0LjA2LTUuMTNaIi8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjI1Mi4zMSAzNy40NyAyNTMuMDkgMzcuMzUgMjMyLjg1IDczLjU2IDI5Mi4zIDc1Ljg0IDI5Mi4zIDc2Ljg1IDIzMi4xOCA3NC41NSAyMzEuNTIgNzQuNTMgMjUxLjU5IDM4LjYgMjE5LjUxIDQzLjcyIDIxOS4xMyA0My43OCAyMjUuNzYgLTYuMjQgMjI2LjMzIC02LjI0IDIxOS44NSA0Mi42NCAyNTIuMzEgMzcuNDciLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjYzLjk3IDE0NC44NSAyNjQuOCAxNDUuNiAyMjEuNyAxNTUuMzQgMjM1LjY2IDE4Ni4zMiAyMzQuOTQgMTg2LjMyIDIyMC42MyAxNTQuNTYgMjYyLjg5IDE0NS4wMSAyMzYuNDQgMTIxLjA1IDIzNS44MiAxMjAuNDkgMjkyLjMgODcuOTMgMjkyLjMgODkgMjM3LjMxIDEyMC43IDI2My45NyAxNDQuODUiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjkuNDIgMTQ1LjM0IDI4LjUgMTQ1LjEyIDczLjgxIDEwNS4wOSA0MC4wNSA4MC4xNyAzOS4xNiA3OS41MiA3OS4xMSA2Ni41IDM2LjkyIDMuMjIgMzYuMDIgMS44OCAxMDQuOTIgMjkuNyA5NS43IC02LjI0IDk2LjMyIC02LjI0IDEwNS42NyAzMC4yIDEwNS45MSAzMS4xNSAzOC4xOCAzLjc5IDc5Ljk0IDY2LjQyIDgwLjQgNjcuMTIgNDEuMTYgNzkuODkgNzQuNiAxMDQuNTkgNzUuMTggMTA1LjAxIDMwLjQzIDE0NC41NCA4Ny4zOCAxNTcuODkgODcuNzYgMTU3Ljk3IDgwLjI3IDE4Ni4zMiA3OS42NSAxODYuMzIgODYuOTIgMTU4LjgxIDI5LjQyIDE0NS4zNCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxNDIuNTQgMTQuMjMgMTQ4Ljk3IC02LjI0IDE0OS42MiAtNi4yNCAxNDIuOTEgMTUuMTIgMTQyLjc5IDE1LjUyIDExNS41MSAtNi4yNCAxMTYuOSAtNi4yNCAxNDIuNTQgMTQuMjMiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjQ0LjU5IDQ0LjM1IDI0NS4zNiA0NC4yMyAyMjcuMDMgNzcuMDIgMjkyLjMgNzkuNTIgMjkyLjMgODAuNTQgMjI2LjM2IDc4LjAxIDIyNS43IDc3Ljk5IDI0My44NiA0NS40OCAyMTQuODUgNTAuMDggMjE0LjQ2IDUwLjE0IDIyMi4wMiAtNi4yNCAyMjIuNTkgLTYuMjQgMjE1LjIgNDkuMDEgMjQ0LjU5IDQ0LjM1Ii8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtOTUuMzgsMTI4LjkybDMxLjA0LDYuODMtNC44MywxOC4yNi41MS0uMTIsMTkuNTEtNC42NS03LjA3LDM1LjA4LjY2LS42NCwzMS44LTMxLjU0LDkuNjYsMTMuMDIsNS4yNi0xOS44OCwyNy4wOCwxMy44Ny0xMS4xNS0yNC45NywyMi44Ni01LS44Mi0uNzctMTMuNzUtMTIuNjQsNDAuNy0yMy4yNS0xLjctLjA2LTQxLjM3LTEuNTksMTAuNjktMTkuMTItMTcuOTEsMi43Niw1LjUzLTM4LjI0LS41Ni41My0yNy44MiwyNi4yMy0xMS40Ni0yNC41LTYuNTMsMjEuMTQtMjcuNzktMjIuMDguMzIsMS4yMyw3LjU0LDI4Ljk5LTM2LjQ4LTE0LjkuOSwxLjM1LDIxLjk5LDMyLjk5LTIxLjIsNi45Mi45LjY1LDE3LjUsMTIuOTItMjQsMjEuMlptMzEuODgsNS45OWwtLjM5LS4wOS0yOS41NC02LjUsMjMuNDItMjAuNjktMTcuNzYtMTMuMTEsMjAuNS02LjY3LS40Ny0uNy0yMS41Ni0zMi4zMywzNS4zMSwxNC40My0uMjQtLjk0LTcuNDctMjguNywyNi44OCwyMS4zNyw2LjM5LTIwLjcsMTEuMjIsMjQuMDEuMi0uMTksMjcuNDYtMjUuODgtNS40MSwzNy40MSwxNy4xNS0yLjY0LTEwLjUzLDE4Ljg1LjY2LjAyLDQwLjMzLDEuNTUtMzguNzYsMjIuMTQsMTQuMTYsMTMuMDEtMjIuMDQsNC44MiwxMC42OCwyMy45Mi0yNS44NC0xMy4yMy0uMS4zOS01LjA2LDE5LjE1LTkuNC0xMi42OC0uMTYuMTYtMzEuMywzMS4wNSw2Ljg3LTM0LjE0LTE5LjkxLDQuNzUsNC43MS0xNy44NVoiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMTY1LjMgMTc0LjQ5IDE1My4yNCAxODYuMzIgMTUyLjA1IDE4Ni4zMiAxNjUuMTkgMTczLjQ0IDE2NS4zNSAxNzMuMjggMTc0Ljk2IDE4Ni4zMiAxNzQuMDIgMTg2LjMyIDE2NS4zIDE3NC40OSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSI0Mi44IDE0Mi4wOSA0MS44NyAxNDEuODcgODIuOTMgMTA1LjYxIDUyLjQyIDgzLjEgNTEuNTIgODIuNDQgODcuNzMgNzAuNjUgNDkuNTggMTMuNDMgNDguNjggMTIuMDkgMTExLjA5IDM3LjMyIDk5LjkgLTYuMjQgMTAwLjUxIC02LjI0IDExMS44NCAzNy44MyAxMTIuMDggMzguNzcgNTAuODQgMTMuOTkgODguNTUgNzAuNTcgODkuMDIgNzEuMjYgNTMuNTMgODIuODIgODMuNzIgMTA1LjExIDg0LjMgMTA1LjU0IDQzLjggMTQxLjMgOTUuNjYgMTUzLjM2IDg3LjU4IDE4My45NSAxMjEuMzMgMTc2LjA1IDEyMS43OSAxNzUuOTQgMTE5LjY5IDE4Ni4zMiAxMTkuMDkgMTg2LjMyIDEyMC45NSAxNzcuMTcgODcuMTQgMTg1LjA4IDg2LjYzIDE4NS4xOSA5NC44MiAxNTQuMiA0Mi44IDE0Mi4wOSIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTQ3Ljg4LDE4MC45NWwuMzguMDktMS40LDUuMjhoLS42MmwxLjE4LTQuNDUtNTMuNjgtMTIuODVjLS4xNS0uMzktLjMyLS43NC0uNDctMS4xNGw1NC42LDEzLjA3WiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTI0Ny4xNCwxODYuMzJoLS43M2wtNi4zOC0xNC4xMS0uMzItLjcsNTEuMDUtMTEuNjZjLS4wNy4zNS0uMS43My0uMTgsMS4wN2wtNDkuNzksMTEuMzcsNi4zNCwxNC4wNFoiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iNzkuNDYgLTYuMjQgODAuOTggLS4yOCA4MS4yMyAuNjUgNjQuMTEgLTYuMjQgNjYuNjcgLTYuMjQgODAuMjQgLS43NyA3OC44NCAtNi4yNCA3OS40NiAtNi4yNCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxNzYuNjQgMTMuNjUgMTY3LjU0IC02LjI0IDE2OC4yNyAtNi4yNCAxNzYuNzkgMTIuMzYgMTk2LjMzIC02LjI0IDE5Ny41MyAtNi4yNCAxNzYuODUgMTMuNDUgMTc2LjY0IDEzLjY1Ii8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjI3Mi43OCAxNDguMTQgMjczLjYxIDE0OC44OSAyMjYuNDcgMTU5LjU3IDIzOC41NCAxODYuMzIgMjM3LjgxIDE4Ni4zMiAyMjUuNCAxNTguOCAyNzEuNyAxNDguMjkgMjQyLjY3IDEyMi4wNCAyNDIuMDUgMTIxLjQ4IDI5Mi4zIDkyLjQ5IDI5Mi4zIDkzLjU1IDI0My41NCAxMjEuNyAyNzIuNzggMTQ4LjE0Ii8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtMjQyLjQ1LDExLjkybDIuMzMtMTguMTVoLjU4bC0yLjE4LDE3LjAzLDQxLjQ0LTYuNjhjLjIuMzIuNDIuNTkuNjEuOTJsLTQyLjM4LDYuODMtLjM5LjA2WiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSI5MS40OSAtNi4yNCA5Mi4xMSAtNi4yNCA5OS43NCAyMy41MyAyNS45NiAtNi4yNCAyOC41NCAtNi4yNCA5OC43NSAyMi4wOCA5MS40OSAtNi4yNCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSI2OC42MyAxMzUuNCAxMDEuMTYgMTA2LjY3IDc3LjE1IDg4Ljk1IDc2LjI2IDg4LjI5IDEwNC45NiA3OC45NCA3My45OSAzMi40OSAxMjMuNDIgNTIuNTcgMTEyLjg0IDExLjU0IDE1MC40MyA0MS40OSAxNTkuMTUgMTMuNTUgMTU5LjM1IDEyLjkgMTc0LjcyIDQ2LjE0IDIxMi40NyAxMC4zOCAyMTMuMDIgOS44NiAyMDUuODYgNjEuNzUgMjI5LjkxIDU3Ljk4IDIxNS40IDgzLjk0IDI3MS44OSA4Ni4xMSAyNzMuNTggODYuMTcgMjE4LjYgMTE3Ljc0IDIzOC4zNSAxMzUuNzQgMjA3LjM5IDE0Mi42NSAyMjEuOTMgMTc1LjA0IDIyMi40OSAxNzYuMjggMTg1Ljg3IDE1Ny42IDE3OC45MSAxODMuOTUgMTc4Ljc2IDE4NC41IDE2NS44NyAxNjcuMDQgMTQ2LjI2IDE4Ni4zMiAxNDUuMDggMTg2LjMyIDE2NS43NiAxNjUuOTkgMTY1LjkyIDE2NS44MyAxNzguNTYgMTgyLjk1IDE4NS40NyAxNTYuNzggMTg1LjU3IDE1Ni4zOSAyMjAuOTQgMTc0LjQzIDIwNi42NCAxNDIuNTcgMjA2LjMyIDE0MS44NSAyMzYuNDQgMTM1LjE1IDIxNy43MyAxMTguMDkgMjE3LjEyIDExNy41MiAyNzAuMTkgODcuMDcgMjE0LjczIDg0Ljk0IDIxNC4wNiA4NC45MSAyMjguNDEgNTkuMjMgMjA1LjUyIDYyLjgyIDIwNS4xMyA2Mi44OCAyMTIuMTggMTEuOCAxNzQuNzggNDcuMjIgMTc0LjU4IDQ3LjQxIDE1OS40NCAxNC42OSAxNTAuOCA0Mi40IDE1MC42NyA0Mi44IDExMy45OCAxMy41NyAxMjQuMTcgNTMuMDcgMTI0LjQyIDU0LjAxIDc2LjE1IDM0LjQxIDEwNS43OCA3OC44NiAxMDYuMjUgNzkuNTYgNzguMjYgODguNjcgMTAxLjk0IDEwNi4xNiAxMDIuNTIgMTA2LjU5IDcwLjU3IDEzNC44MiAxMTEuMDcgMTQ0LjA1IDExMS40NiAxNDQuMTQgMTA1LjA2IDE2OC4zNSAxMzIuMTMgMTYxLjk3IDEyNy4yIDE4Ni4zMiAxMjYuNiAxODYuMzIgMTMxLjI4IDE2My4yIDEwNC42MiAxNjkuNDggMTA0LjExIDE2OS42IDExMC42MiAxNDQuOTcgNjkuNTcgMTM1LjYxIDY4LjYzIDEzNS40Ii8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjE1NC40NCAtNi4yNCAxNTUuMDkgLTYuMjQgMTQ1LjU0IDI0LjIxIDE0NS40MSAyNC42MSAxMDYuNzMgLTYuMjQgMTA4LjEzIC02LjI0IDE0NS4xNyAyMy4zMiAxNTQuNDQgLTYuMjQiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMTc1LjYxIDMwLjUzIDE1OC43MSAtNi4yNCAxNTkuNDQgLTYuMjQgMTc1Ljc1IDI5LjI0IDIxMy4xMSAtNi4yNCAyMTQuMzEgLTYuMjQgMTc1LjgxIDMwLjMzIDE3NS42MSAzMC41MyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxODUuNDkgMTg2LjMyIDE4NC44NyAxODYuMzIgMTg5LjQyIDE2OS4wOSAxODkuNTIgMTY4LjcxIDIyNC4xNCAxODYuMzIgMjIyLjA2IDE4Ni4zMiAxODkuODIgMTY5LjkyIDE4NS40OSAxODYuMzIiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjM2Ljg2IDUxLjIzIDIzNy42NCA1MS4xMSAyMjEuMjIgODAuNDggMjg1LjI2IDgyLjk0IDI4Ni45NiA4MyAyMjQuODQgMTE4LjczIDI0Ny4xNiAxMzkuMDMgMjEyLjE2IDE0Ni44NyAyMjkuMjMgMTg0Ljg0IDE4Ny44NSAxNjMuNzYgMTgxLjg5IDE4Ni4zMiAxODEuMjcgMTg2LjMyIDE4Ny40NSAxNjIuOTQgMTg3LjU0IDE2Mi41NSAyMjcuNjcgMTgzIDIxMS40MSAxNDYuOCAyMTEuMDkgMTQ2LjA5IDI0NS4yNSAxMzguNDMgMjIzLjk3IDExOS4wOCAyMjMuMzYgMTE4LjUyIDI4My41NiA4My44OSAyMjAuNTQgODEuNDcgMjE5Ljg4IDgxLjQ1IDIzNi4xMyA1Mi4zNiAyMTAuMTkgNTYuNDUgMjA5LjggNTYuNTEgMjE3LjY2IC0xLjQxIDE3NS4zIDM4Ljc4IDE3NS4wOSAzOC45NyAxNTggMS44OSAxNDguMTcgMzMuMzEgMTQ4LjA0IDMzLjcxIDEwNi40NSAuNTQgMTE4LjAxIDQ1LjQ1IDExOC4yNSA0Ni40IDYzLjUgMjQuMiA5Ny4xNyA3NC43MSA5Ny42MyA3NS40MSA2NS45IDg1Ljc1IDkyLjgzIDEwNS42NCA5My40MSAxMDYuMDYgNTcuMTkgMTM4LjA3IDEwMy41NiAxNDguNzUgOTYuMzIgMTc2LjE1IDEyNi41IDE2OS4wNyAxMjYuOTYgMTY4Ljk2IDEyMy40NCAxODYuMzIgMTIyLjg0IDE4Ni4zMiAxMjYuMTEgMTcwLjE5IDk1Ljg4IDE3Ny4yOCA5NS4zNyAxNzcuNCAxMDIuNzIgMTQ5LjU5IDU2LjE4IDEzOC44NiA1NS4yNSAxMzguNjQgOTIuMDQgMTA2LjE0IDY0Ljc5IDg2LjAyIDYzLjg5IDg1LjM3IDk2LjM0IDc0LjggNjIuMjQgMjMuNjQgNjEuMzQgMjIuMyAxMTcuMjYgNDQuOTUgMTA1LjMxIC0xLjQ4IDE0Ny44IDMyLjQxIDE1Ny43MSAuNzUgMTU3LjkxIC4xMSAxNzUuMjQgMzcuNjggMjE3Ljk1IC0yLjgzIDIxOC41IC0zLjM2IDIxMC41MyA1NS4zOCAyMzYuODYgNTEuMjMiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjU1LjE1IDE0MS41NyAyNTUuOTggMTQyLjMyIDIxNi45MyAxNTEuMSAyMzIuNzkgMTg2LjMyIDIzMi4wNiAxODYuMzIgMjE1Ljg2IDE1MC4zMyAyNTQuMDcgMTQxLjczIDIzMC4yIDEyMC4wNyAyMjkuNTkgMTE5LjUxIDI5Mi4zIDgzLjM5IDI5Mi4zIDg0LjQ1IDIzMS4wNyAxMTkuNzIgMjU1LjE1IDE0MS41NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxNzYuMTMgMjIuMDkgMTYzLjEzIC02LjI0IDE2My44NiAtNi4yNCAxNzYuMjcgMjAuOCAyMDQuNyAtNi4yNCAyMDUuOTEgLTYuMjQgMTc2LjMzIDIxLjg5IDE3Ni4xMyAyMi4wOSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxNDAuMTYgNi40MyAxMjQuMjggLTYuMjQgMTI1LjY2IC02LjI0IDEzOS45MiA1LjE0IDE0My41IC02LjI0IDE0NC4xNCAtNi4yNCAxNDAuMjggNi4wNCAxNDAuMTYgNi40MyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxOTEuMzkgMTc1LjI1IDE5MS40OSAxNzQuODYgMjE0LjAzIDE4Ni4zMiAyMTEuOTYgMTg2LjMyIDE5MS44IDE3Ni4wNyAxODkuMDkgMTg2LjMyIDE4OC40NyAxODYuMzIgMTkxLjM5IDE3NS4yNSIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibS0uMTIuMzJDLjA1LjEyLjI0LS4wMS40MS0uMmwyNy44Myw0MS43NS40Ni42OS0zOS4xNywxMi43NnYtMS4wM2wzNy44OC0xMi4zNEwtLjEyLjMyWiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSItMTAuNDYgODAuMSAtMTAuNDYgNzkuMDEgMTkuOTEgMTAxLjQzIDIwLjUgMTAxLjg2IC0xMC40NiAxMjkuMjEgLTEwLjQ2IDEyOC4wNyAxOS4xMyAxMDEuOTQgLTEwLjQ2IDgwLjEiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0yOTIuMyw1My43MnYxLjAybC0yNS4yMS0uOTctLjY2LS4wMiwyMi41MS00MC4yN2MuMS4zLjE4LjYzLjI3LjkzbC0yMS40NCwzOC4zNywyNC41My45NFoiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0yOTIuMyw1Ny40MXYxLjAybC0zMS4wMi0xLjE5LS42Ni0uMDIsMjYuNzMtNDcuODRjLjEyLjI3LjI0LjUyLjM1Ljc5bC0yNS43NCw0Ni4wOCwzMC4zNSwxLjE2WiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIyOTIuMyAxNDIuNDcgMjkyLjMgMTQzLjYgMjczLjg0IDEyNi45OSAyNzMuMjIgMTI2LjQ0IDI5Mi4zIDExNS40IDI5Mi4zIDExNi40NiAyNzQuNzEgMTI2LjY0IDI5Mi4zIDE0Mi40NyIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIyOTIuMyAxMzcuODMgMjkyLjMgMTM4Ljk3IDI4MC4wOCAxMjcuOTggMjc5LjQ2IDEyNy40MiAyOTIuMyAxMTkuOTkgMjkyLjMgMTIxLjA1IDI4MC45NSAxMjcuNjIgMjkyLjMgMTM3LjgzIi8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtMjU1LjcxLDE4Ni4zMmgtLjcybC0uNjMtMS40LS4zMi0uNzEsMjkuNjQtNi44Yy0uMjcuMzktLjUxLjg0LS43OSwxLjIxbC0yNy43Nyw2LjM3LjYsMS4zNFoiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0yODAuNzQtLjg5Yy4yOS4zLjYuNTYuODguODhsLTM0LjExLDUuNTEtLjM5LjA2LDEuNTEtMTEuNzloLjU4bC0xLjM2LDEwLjY2LDMyLjktNS4zMloiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iLTEwLjQ2IDkyLjUgLTEwLjQ2IDkxLjQyIDEuNjkgMTAwLjM5IDIuMjcgMTAwLjgxIC0xMC40NiAxMTIuMDYgLTEwLjQ2IDExMC45MyAuOSAxMDAuODkgLTEwLjQ2IDkyLjUiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0yOTIuMyw0Ni4zNHYxLjAybC0xMy41Ny0uNTItLjY2LS4wMiwxMy4yLTIzLjYxYy4wNi4zNy4xMy43Mi4xOCwxLjA5bC0xMi4wNSwyMS41NSwxMi45LjVaIi8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtLTUuNjIsOS42NGMuMTEtLjI3LjI0LS41Mi4zNS0uNzlsMTYuMjcsMjQuNC40Ny43LTIxLjkzLDcuMTR2LTEuMDNsMjAuNjQtNi43MkwtNS42Miw5LjY0WiIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibS03LjY2LDE1LjM2Yy4wOS0uMzEuMTgtLjYxLjI3LS45MkwyLjM5LDI5LjFsLjQ2LjctMTMuMjcsNC4zMmMwLS4zNi4wNS0uNy4wNi0xLjA1bDExLjkyLTMuODhMLTcuNjYsMTUuMzZaIi8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtLTMuMTEsNC42MWMuMTQtLjIzLjI5LS40My40NC0uNjZsMjIuMywzMy40NC40Ny43LTMwLjU1LDkuOTV2LTEuMDNsMjkuMjYtOS41M0wtMy4xMSw0LjYxWiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSItMTAuNDYgODYuMyAtMTAuNDYgODUuMjEgMTAuOCAxMDAuOTEgMTEuMzggMTAxLjMzIC0xMC40NiAxMjAuNjMgLTEwLjQ2IDExOS41IDEwLjAxIDEwMS40MSAtMTAuNDYgODYuMyIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTI5Mi4zLDUwLjAzdjEuMDJsLTE5LjM5LS43NS0uNjYtLjAyLDE4LjAzLTMyLjI2Yy4wOC4zMi4yLjYxLjI3LjkzbC0xNi45NywzMC4zNSwxOC43Mi43MloiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iODMuMDcgLTYuMjQgODMuNjggLTYuMjQgODcuMTYgNy4zNCA4Ny40IDguMjcgNTEuMzYgLTYuMjQgNTMuOTQgLTYuMjQgODYuNDEgNi44NCA4My4wNyAtNi4yNCIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIxNS4xMiAxNDguMzcgNjQuNjkgMTA0LjU2IDI3LjY5IDc3LjI1IDI2Ljc5IDc2LjU5IDcwLjUgNjIuMzUgMjQuNzcgLTYuMjQgMjUuNjQgLTYuMjQgNzEuMzIgNjIuMjggNzEuNzkgNjIuOTcgMjguOCA3Ni45NyA2NS40OCAxMDQuMDYgNjYuMDYgMTA0LjQ5IDE3LjA0IDE0Ny43OSA3OS40OCAxNjIuNSA3OS44NiAxNjIuNTkgNzMuNTkgMTg2LjMyIDcyLjk3IDE4Ni4zMiA3OS4wMiAxNjMuNDIgMTUuMTIgMTQ4LjM3Ii8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjI5MC40MiAxNTQuNzEgMjkxLjI0IDE1NS40NiAyMzYuMDIgMTY4LjA0IDI0NC4yNyAxODYuMzIgMjQzLjU1IDE4Ni4zMiAyMzQuOTUgMTY3LjI3IDI4OS4zNCAxNTQuODcgMjU1LjE0IDEyNC4wMyAyNTQuNTIgMTIzLjQ4IDI5Mi4zIDEwMS42NCAyOTIuMyAxMDIuNyAyNTYuMDEgMTIzLjY3IDI5MC40MiAxNTQuNzEiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0tOC40NSwxNjIuMDVjLS4wOS0uMzgtLjIxLS43Mi0uMy0xLjFsNjQuNTIsMTUuMzkuMzguMDktMi42MSw5LjloLS42MmwyLjM5LTkuMDctNjMuNzYtMTUuMjFaIi8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjIuNjYgMTUxLjgzIDEuNzQgMTUxLjYgNTUuNTggMTA0LjA0IDE1LjMzIDc0LjMyIDE0LjQzIDczLjY2IDYxLjg3IDU4LjIxIDE4LjkxIC02LjI0IDE5Ljc5IC02LjI0IDYyLjcgNTguMTMgNjMuMTcgNTguODMgMTYuNDMgNzQuMDQgNTYuMzcgMTAzLjU0IDU2Ljk1IDEwMy45NiAzLjY2IDE1MS4wMyA3MS41NyAxNjcuMTEgNzEuOTYgMTY3LjIgNjYuOTEgMTg2LjMyIDY2LjI4IDE4Ni4zMiA3MS4xMSAxNjguMDMgMi42NiAxNTEuODMiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjY3Ljc3IDIzLjcyIDI2OC41NCAyMy41OSAyNDQuNDkgNjYuNjMgMjkyLjMgNjguNDcgMjkyLjMgNjkuNDggMjQzLjgxIDY3LjYyIDI0My4xNSA2Ny42IDI2Ny4wNCAyNC44NiAyMjguODUgMzAuOTggMjI4LjQ2IDMxLjA0IDIzMy4zMiAtNi4yNCAyMzMuODkgLTYuMjQgMjI5LjE4IDI5LjkxIDI2Ny43NyAyMy43MiIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSI4Ny4yOCAtNi4yNCA4Ny45IC02LjI0IDkzLjMyIDE0Ljk2IDkzLjU2IDE1Ljg5IDM4LjY0IC02LjI0IDQxLjIyIC02LjI0IDkyLjU4IDE0LjQ2IDg3LjI4IC02LjI0Ii8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjE4Ny45NiAtNi4yNCAxODkuMTcgLTYuMjQgMTc3LjM2IDUuMDEgMTc3LjE2IDUuMiAxNzEuOTMgLTYuMjQgMTcyLjY2IC02LjI0IDE3Ny4zIDMuOTEgMTg3Ljk2IC02LjI0Ii8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjI2MC4wNCAzMC41OSAyNjAuODIgMzAuNDYgMjM4LjY3IDcwLjA5IDI5Mi4zIDcyLjE1IDI5Mi4zIDczLjE3IDIzOCA3MS4wOCAyMzcuMzMgNzEuMDcgMjU5LjMxIDMxLjczIDIyNC4xOCAzNy4zNSAyMjMuOCAzNy40MSAyMjkuNTMgLTYuMjQgMjMwLjEgLTYuMjQgMjI0LjUyIDM2LjI4IDI2MC4wNCAzMC41OSIvPjxwb2x5Z29uIGNsYXNzPSJjbHMtNiIgcG9pbnRzPSIyODEuNiAxNTEuNDMgMjgyLjQzIDE1Mi4xOCAyMzEuMjUgMTYzLjgxIDI0MS40MSAxODYuMzIgMjQwLjY5IDE4Ni4zMiAyMzAuMTggMTYzLjAzIDI4MC41MiAxNTEuNTkgMjQ4LjkgMTIzLjA0IDI0OC4yOCAxMjIuNDggMjkyLjMgOTcuMDYgMjkyLjMgOTguMTIgMjQ5Ljc3IDEyMi42OCAyODEuNiAxNTEuNDMiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0yNTAsMTg2LjMyaC0uNzNsLTQuNDctOS44OC0uMzItLjcsNDQuNzgtMTAuMjRjLS4xMS4zNi0uMjEuNzUtLjMyLDEuMWwtNDMuMzgsOS45Miw0LjQzLDkuODFaIi8+PHBvbHlnb24gY2xhc3M9ImNscy02IiBwb2ludHM9IjI5Mi4zIDYxLjA5IDI5Mi4zIDYyLjExIDI1NS40NSA2MC43IDI1NC43OSA2MC42OCAyODIuNDkgMTEuMSAyMzguMTcgMTguMjMgMjM3Ljc4IDE4LjI5IDI0MC45NSAtNi4yNCAyNDEuNTIgLTYuMjQgMjM4LjUxIDE3LjE2IDI4My4yMiA5Ljk2IDI4My45OSA5LjgzIDI1Ni4xMyA1OS43MSAyOTIuMyA2MS4wOSIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTI1Mi44NSwxODYuMzJoLS43MmwtMi41NS01LjY0LS4zMi0uNzEsMzcuODEtOC42N2MtLjE3LjM4LS4zNC43OC0uNTIsMS4xNWwtMzYuMjIsOC4yOSwyLjUyLDUuNTdaIi8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtMjkyLjIsMTQ3LjAxYzAsLjM3LS4wNC43Mi0uMDYsMS4wOGwtMjQuNTMtMjIuMDktLjYyLS41NSwyNS4zMS0xNC42NHYxLjA2bC0yMy44MiwxMy43OCwyMy43MiwyMS4zNloiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iLTEwLjQ2IDczLjkgLTEwLjQ2IDcyLjgxIDI5LjAzIDEwMS45NiAyOS42MSAxMDIuMzggLTEwLjQ2IDEzNy43OCAtMTAuNDYgMTM2LjY1IDI4LjI0IDEwMi40NiAtMTAuNDYgNzMuOSIvPjxwYXRoIGNsYXNzPSJjbHMtNiIgZD0ibTIuOTYsNzEuNGwtLjktLjY2LDUxLjItMTYuNjhMMTMuMDYtNi4yNGguODhsNDAuMTUsNjAuMjIuNDYuN0w0LjA2LDcxLjEzbDQzLjE5LDMxLjg4LjU4LjQzLTU3LjU2LDUwLjg0LDczLjQsMTcuNDUuMzguMDktMy44MywxNC41MWgtLjYzbDMuNjEtMTMuNjgtNzIuOTEtMTcuMzNjLS4wOS0uNjUtLjI0LTEuMjQtLjMyLTEuOWw1Ni40OC00OS45TDIuOTYsNzEuNFoiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0tMy4zLDE3NS4xOGw0My4yOCwxMC4zOS4zOC4xLS4xNy42NmgtMS4zM2wtNDEuMzUtOS45M2MtLjI2LS40MS0uNTUtLjc4LS44LTEuMjJaIi8+PHBhdGggY2xhc3M9ImNscy02IiBkPSJtMjkxLjk1LDE1MS40NGMtLjAzLjM1LS4wMi43My0uMDYsMS4wOGwtMzAuNTItMjcuNTEtLjYyLS41NSwzMS41NC0xOC4yNHYxLjA2bC0zMC4wNSwxNy4zOCwyOS43MSwyNi43OFoiLz48cG9seWdvbiBjbGFzcz0iY2xzLTYiIHBvaW50cz0iMjc1LjQ5IDE2Ljg0IDI3Ni4yNyAxNi43MiAyNTAuMzEgNjMuMTcgMjkyLjMgNjQuNzggMjkyLjMgNjUuOCAyNDkuNjMgNjQuMTYgMjQ4Ljk3IDY0LjE0IDI3NC43NyAxNy45OCAyMzMuNTEgMjQuNiAyMzMuMTIgMjQuNjYgMjM3LjEzIC02LjI0IDIzNy43IC02LjI0IDIzMy44NSAyMy41MyAyNzUuNDkgMTYuODQiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0tOS40MSw2OC40N2wtLjktLjY2LDU0Ljk1LTE3LjkxTDcuNzMtNS40NmMuMjUtLjA5LjUyLS4wNy43OC0uMTRsMzYuOTYsNTUuNDQuNDcuNjktNTQuMjQsMTcuNjcsNDYuNDUsMzQuMjguNTguNDItNDkuMTIsNDMuMzljMC0uMzctLjA2LS43MS0uMDYtMS4wN2w0Ny44MS00Mi4yNEwtOS40MSw2OC40N1oiLz48cGF0aCBjbGFzcz0iY2xzLTYiIGQ9Im0zLjQzLTMuMTNjLjItLjE1LjQzLS4yMi42NC0uMzZsMzIuNzksNDkuMTguNDYuNy00Ny43OSwxNS41NnYtMS4wM2w0Ni40OS0xNS4xNUwzLjQzLTMuMTNaIi8+PC9nPjwvZz48L2c+PC9nPjwvc3ZnPg==';

  canvas.addEventListener('mousedown', handleMouseDown, false);
  canvas.addEventListener('touchstart', handleMouseDown, false);
  canvas.addEventListener('mousemove', handleMouseMove, false);
  canvas.addEventListener('touchmove', handleMouseMove, false);
  canvas.addEventListener('mouseup', handleMouseUp, false);
  canvas.addEventListener('touchend', handleMouseUp, false);

  function distanceBetween(point1, point2) {
    return Math.sqrt(Math.pow(point2.x - point1.x, 2) + Math.pow(point2.y - point1.y, 2));
  }

  function angleBetween(point1, point2) {
    return Math.atan2(point2.x - point1.x, point2.y - point1.y);
  }

  // Only test every `stride` pixel. `stride`x faster,
  // but might lead to inaccuracy
  function getFilledInPixels(stride) {
    if (!stride || stride < 1) {
      stride = 1;
    }

    var pixels = ctx.getImageData(0, 0, canvasWidth, canvasHeight),
      pdata = pixels.data,
      l = pdata.length,
      total = l / stride,
      count = 0;

    // Iterate over all pixels
    for (var i = count = 0; i < l; i += stride) {
      if (parseInt(pdata[i]) === 0) {
        count++;
      }
    }

    return Math.round((count / total) * 100);
  }

  function handlePercentage(filledInPixels) {
    filledInPixels = filledInPixels || 0;
    console.log(filledInPixels + '%');
    if (filledInPixels > 50) {
      canvas.parentNode.removeChild(canvas);
    }
  }

  function handleMouseDown(e) {
    isDrawing = true;
    lastPoint = getMouse(e, canvas);
  }

  function handleMouseMove(e) {
    if (!isDrawing) {
      return;
    }

    e.preventDefault();

    var currentPoint = getMouse(e, canvas);

    var dist = distanceBetween(lastPoint, currentPoint);
    var angle = angleBetween(lastPoint, currentPoint);
    var x, y;

    for (var i = 0; i < dist; i++) {
      x = lastPoint.x + (Math.sin(angle) * i) - 25;
      y = lastPoint.y + (Math.cos(angle) * i) - 25;
      ctx.globalCompositeOperation = 'destination-out';
      ctx.drawImage(brush, x, y);
    }

    lastPoint = currentPoint;
    handlePercentage(getFilledInPixels(32));
  }

  function handleMouseUp(e) {
    isDrawing = false;
  }

  function getMouse(e, canvas) {
    var offsetX = 0,
      offsetY = 0,
      mx, my;

    if (canvas.offsetParent !== undefined) {
      do {
        offsetX += canvas.offsetLeft;
        offsetY += canvas.offsetTop;
      } while ((canvas = canvas.offsetParent));
    }

    if (e.type.startsWith('touch')) {
      mx = e.touches[0].clientX - offsetX;
      my = e.touches[0].clientY - offsetY;
    } else {
      mx = e.pageX - offsetX;
      my = e.pageY - offsetY;
    }

    return {
      x: mx,
      y: my
    };
  }

})();
